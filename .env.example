# ═══════════════════════════════════════════════════════════════════════════════
# R-JEPA Configuration Template
# Copy this file to .env and fill in your actual values
# ═══════════════════════════════════════════════════════════════════════════════

# ───────────────────────────────────────────────────────────────────────────────
# TEACHER LLM APIs (OpenAI-compatible loopback)
# ───────────────────────────────────────────────────────────────────────────────

# Teacher 1: Claude (via proxy loopback)
TEACHER_CLAUDE_BASE_URL=http://localhost:8001/v1
TEACHER_CLAUDE_API_KEY=sk-xxx-replace-me
TEACHER_CLAUDE_MODEL=claude-3-5-sonnet-20241022

# Teacher 2: GPT (via proxy loopback)
TEACHER_GPT_BASE_URL=http://localhost:8002/v1
TEACHER_GPT_API_KEY=sk-xxx-replace-me
TEACHER_GPT_MODEL=gpt-4-turbo-2024-04-09

# Teacher 3: Custom (optional, any OpenAI-compatible API)
TEACHER_CUSTOM_BASE_URL=http://custom-api.example.com/v1
TEACHER_CUSTOM_API_KEY=sk-xxx-replace-me
TEACHER_CUSTOM_MODEL=mixtral-8x22b

# Budget limits (USD per job)
TEACHER_MAX_BUDGET_PER_JOB=50.0

# ───────────────────────────────────────────────────────────────────────────────
# STUDENT LLM Configuration
# ───────────────────────────────────────────────────────────────────────────────

STUDENT_MODEL_NAME=Qwen/Qwen3-8B-Instruct
STUDENT_QUANTIZATION=awq-4bit
STUDENT_LAYER_TO_EXTRACT=-2
STUDENT_MAX_MODEL_LEN=4096
STUDENT_GPU_MEMORY_UTILIZATION=0.85

# ───────────────────────────────────────────────────────────────────────────────
# TRACKING & MONITORING
# ───────────────────────────────────────────────────────────────────────────────

# W&B (Weights & Biases)
WANDB_API_KEY=xxx-replace-me
WANDB_PROJECT=rjepa-training
WANDB_ENTITY=teleadmin-ai

# MLflow (alternative to W&B)
# MLFLOW_TRACKING_URI=http://localhost:5000

# ───────────────────────────────────────────────────────────────────────────────
# R-JEPA MODEL Configuration
# ───────────────────────────────────────────────────────────────────────────────

RJEPA_DIM=1024
RJEPA_DEPTH_ENC=12
RJEPA_DEPTH_PRED=8
RJEPA_NUM_HEADS=16
RJEPA_DOMAIN_EMBED_DIM=64

# ───────────────────────────────────────────────────────────────────────────────
# TRAINING Configuration
# ───────────────────────────────────────────────────────────────────────────────

TRAIN_BATCH_SIZE=64
TRAIN_LR=3e-4
TRAIN_EMA_MOMENTUM_START=0.996
TRAIN_EMA_MOMENTUM_END=1.0
TRAIN_EPOCHS=10
TRAIN_AMP=bf16
TRAIN_GRAD_CLIP=1.0

# ───────────────────────────────────────────────────────────────────────────────
# DATA PATHS
# ───────────────────────────────────────────────────────────────────────────────

DATA_ROOT=./data
DATASETS_ROOT=./data/datasets
LATENTS_ROOT=./data/latents
CHECKPOINTS_ROOT=./data/checkpoints
LOGS_ROOT=./logs

# ───────────────────────────────────────────────────────────────────────────────
# PREFECT (Workflow Orchestration)
# ───────────────────────────────────────────────────────────────────────────────

PREFECT_API_URL=http://localhost:4200/api
PREFECT_API_DATABASE_CONNECTION_URL=sqlite:///prefect.db

# ───────────────────────────────────────────────────────────────────────────────
# SERVICES URLs (Docker Compose)
# ───────────────────────────────────────────────────────────────────────────────

STUDENT_LLM_URL=http://localhost:8000
RJEPA_SERVICE_URL=http://localhost:8100
TEACHER_ORCH_URL=http://localhost:8200
UI_BACKEND_URL=http://localhost:8300

# ───────────────────────────────────────────────────────────────────────────────
# USER FEEDBACK & PRIVACY
# ───────────────────────────────────────────────────────────────────────────────

ENABLE_USER_FEEDBACK_LOOP=true
ANONYMIZE_USER_DATA=true
PII_FILTER_ENABLED=true

# ───────────────────────────────────────────────────────────────────────────────
# DEVELOPMENT
# ───────────────────────────────────────────────────────────────────────────────

LOG_LEVEL=INFO
DEBUG=false
ENVIRONMENT=development  # development | staging | production
